#include<bits/stdc++.h>

using namespace std;

int main(){
	freopen("input.txt", "r", stdin);
	freopen("out.txt", "w", stdout);
	int n;
	cin>>n;
	int a[n+1];
	for(int i=0; i<=n; i++) cin>>a[i];

	//F(i, j) = min(F(i, k) + F(k+1, j) + A[i] * A[k+1] * A[j+1])

	int dp[n][n];

	for(int i=0; i<n; i++) dp[i][i] = 0;

	for(int i=n-2; i>=0; i--){
		for(int j=i+1; j<n; j++){
			dp[i][j] = INT_MAX;
			for(int k=i; k<j; k++){
				dp[i][j] = min(dp[i][j], dp[i][k] + dp[k+1][j] + a[i]*a[k+1]*a[j+1]);
			}
		}
	}	

	cout<<dp[0][n-1]<<"\n";
	return 0;
}